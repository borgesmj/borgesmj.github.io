---
import BaseLayout from "../../layouts/BaseLayout.astro";
import Project from "../../Components/Project";
const pageTitle = "MB | Projects";
const pageDescription =
  "Personal portfolio showcasing web development projects with an integrated blog. Utilizes HTML, CSS, and JavaScript for frontend, Git for version control, and continuous deployment. Optimized for performance and user experience. Follow for updates";
const pageUrl = "https://borgesmj.github.io/projects/";
const pageImg = "https://avatars.githubusercontent.com/u/121818423?v=4";
const twitterCardUrl = "@https://borgesmj.github.io/projects/";
const loader = false
const response = await fetch("https://api.github.com/users/borgesmj/repos?page=1&per_page=1000")
const data = await response.json();


const filteredData = data.filter((item) => {
  return (
    item.name !== "30-Days-Of-JavaScript" &&
    item.name !== "50projects50days" &&
    item.name !== "aspirantes-mir-ejercicio-1" &&
    item.name !== "aspirantes-mir-ejercicioi-3" &&
    item.name !== "borgesmj" &&
    item.name !== "borgesmj.github.io" &&
    item.name !== "cloud-storage" &&
    item.name !== "crear-multipage-vite" &&
    item.name !== "kids-quiz" &&
    item.name !== "Udemy-react" &&
    item.name !== "course-Full-Stack-Open-2023-part-3" &&
    item.name !== "course-Full-Stack-Open-2023" &&
    item.name !== "retos-programacion-2023"
  );
});

const orderedRepos = filteredData.sort((a, b) => {
    const dateA = new Date(a.created_at).getTime();
  const dateB = new Date(b.created_at).getTime();

  return dateB - dateA;
});

  console.log(orderedRepos.map(project => project.name));
---

<BaseLayout
  pageTitle={pageTitle}
  pageDescription={pageDescription}
  pageUrl={pageUrl}
  pageImg={pageImg}
  twitterCardUrl={twitterCardUrl}
>
  <h2
    class="w-full text-left text-2xl border-b-2 border-b-solid border-d-white py-4 px-4 italic font-bold"
  >
    Projects
  </h2>
  <section
    class="p-4 flex flex-wrap items-center justify-center md:justify-between gap-4"
  >
    {
      orderedRepos.map((repo) => (
        <Project
          repo_title={repo.name}
          repo_description={repo.description}
        />
      ))
    }
  </section>
</BaseLayout>
